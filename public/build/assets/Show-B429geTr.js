import{r as g,W as y,j as e,y as E}from"./app-D6fkvZbA.js";import{I as t}from"./InputError-98kNegpX.js";import{A as H,J as u,I as x,B as j}from"./AuthenticatedLayout-CcBeljlA.js";import{C as h,a as m,b as p,c as v}from"./card-8DjiWBJf.js";import{L as r}from"./label-DRukCHiJ.js";import{S as b,a as _,b as S,c as A,d}from"./select-DYZRsoEN.js";import{T as I,a as B,b as N,c as i,d as J,e as c}from"./table-Bq7M0pK1.js";import{J as z}from"./jodit-react-lRlxCfOa.js";import{T as R}from"./trash-2-B0q9_UpY.js";import"./index-CP3OEn7_.js";import"./tslib.es6-M_FJ09fS.js";const Z=({certificateType:a})=>{const V=g.useRef(null),{data:l,setData:n,errors:o,post:D,reset:L}=y();g.useState();const{data:T,setData:f,put:F,errors:C}=y({name:a.name,layout:a.layout,id:a.id,created_at:a.created_at,updated_at:a.updated_at,custom_fields:a.custom_fields}),w=s=>{s.preventDefault(),D(route("customFields.store",a.id),{onSuccess:()=>{u.success("Custom Field Added"),L()}})};return e.jsx(H,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(h,{className:"max-w-xl",children:[e.jsx(m,{children:e.jsx(p,{children:"Certificate Type"})}),e.jsx(v,{children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),F(route("certificate-types.update",a.id),{onSuccess:()=>{u.info("Updated")}})},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Name"}),e.jsx(x,{defaultValue:T.name,onChange:s=>{f("name",s.target.value)}}),e.jsx(t,{message:C.name})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Layout"}),e.jsxs(b,{defaultValue:a.layout,onValueChange:s=>{f("layout",s)},children:[e.jsx(_,{children:e.jsx(S,{placeholder:"Select a layout"})}),e.jsxs(A,{children:[e.jsx(d,{value:"letter",children:"Letter"}),e.jsx(d,{value:"letter_WAH",children:"WAH Letter"}),e.jsx(d,{value:"card",children:"Card"})]})]}),e.jsx(t,{message:C.layout})]}),e.jsx("div",{children:e.jsx(j,{size:"sm",children:"Update"})})]})})]}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsx(p,{children:"Custom Fields"})}),e.jsx(v,{children:e.jsxs(I,{children:[e.jsx(B,{children:e.jsxs(N,{children:[e.jsx(i,{children:"Label"}),e.jsx(i,{children:"Type"}),e.jsx(i,{children:"Default Value"}),e.jsx(i,{children:"Action"})]})}),e.jsx(J,{children:a.custom_fields.map(s=>e.jsxs(N,{children:[e.jsx(c,{children:s.label}),e.jsx(c,{children:s.type}),e.jsx(c,{children:s.type=="custom"?"custom":s.default_value}),e.jsx(c,{children:e.jsx(j,{size:"sm",variant:"ghost",onClick:()=>{confirm("Are you sure?")&&E.delete(route("customFields.destroy",[s.certificate_type_id,s.id]),{onSuccess:()=>{u.warning("Deleted")}})},children:e.jsx(R,{className:"size-4"})})})]}))})]})})]}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsx(p,{children:"Add Custom Fields"})}),e.jsx(v,{children:e.jsxs("form",{onSubmit:w,className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Label"}),e.jsx(x,{value:l.label,onChange:s=>{n("label",s.target.value)}}),e.jsx(t,{message:o.label})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Type"}),e.jsxs(b,{value:l.type,defaultValue:l.type,onValueChange:s=>{n("type",s)},children:[e.jsx(_,{className:"",children:e.jsx(S,{placeholder:"Select a type"})}),e.jsxs(A,{children:[e.jsx(d,{value:"text",children:"Text"}),e.jsx(d,{value:"custom",children:"Custom"})]})]}),e.jsx(t,{message:o.type})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(r,{children:"Default Value"}),l.type=="text"&&e.jsx(x,{defaultValue:l.default_value,value:l.default_value,onChange:s=>{n("default_value",s.target.value)}}),l.type=="custom"&&e.jsx(z,{className:"prose max-w-full",ref:V,value:l.default_value,onBlur:s=>{n("default_value",s)},onChange:s=>{}}),e.jsx(t,{message:o.default_value})]}),e.jsx("div",{children:e.jsx(j,{children:"Add"})})]})})]})]})})};export{Z as default};
