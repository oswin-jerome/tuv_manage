import{r as g,W as y,j as e,y as B}from"./app-BvYve8zT.js";import{I as r}from"./InputError-DvLXwsKG.js";import{A as E,J as u,I as x,B as j}from"./AuthenticatedLayout-CQObL2fs.js";import{C as h,a as m,b as p,c as v}from"./card-GwBy3rZh.js";import{L as d}from"./label-BmFSqJEm.js";import{S as b,a as _,b as S,c as A,d as t}from"./select-zsTMxWMy.js";import{T as H,a as I,b as N,c as i,d as J,e as c}from"./table-GjlREPnq.js";import{J as k}from"./jodit-react-CEWOuH-_.js";import{T as z}from"./trash-2-CMZgO2As.js";import"./index-i2qVqcyp.js";import"./tslib.es6-M_FJ09fS.js";const Z=({certificateType:a})=>{const V=g.useRef(null),{data:l,setData:n,errors:o,post:D,reset:L}=y();g.useState();const{data:T,setData:C,put:F,errors:f}=y({name:a.name,layout:a.layout,id:a.id,created_at:a.created_at,updated_at:a.updated_at,custom_fields:a.custom_fields}),w=s=>{s.preventDefault(),D(route("customFields.store",a.id),{onSuccess:()=>{u.success("Custom Field Added"),L()}})};return e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(h,{className:"max-w-xl",children:[e.jsx(m,{children:e.jsx(p,{children:"Certificate Type"})}),e.jsx(v,{children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),F(route("certificate-types.update",a.id),{onSuccess:()=>{u.info("Updated")}})},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Name"}),e.jsx(x,{defaultValue:T.name,onChange:s=>{C("name",s.target.value)}}),e.jsx(r,{message:f.name})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Layout"}),e.jsxs(b,{defaultValue:a.layout,onValueChange:s=>{C("layout",s)},children:[e.jsx(_,{children:e.jsx(S,{placeholder:"Select a layout"})}),e.jsxs(A,{children:[e.jsx(t,{value:"letter",children:"Letter"}),e.jsx(t,{value:"letter_WAH",children:"WAH Letter"}),e.jsx(t,{value:"card",children:"Card"}),e.jsx(t,{value:"card_noback",children:"Card No Back"})]})]}),e.jsx(r,{message:f.layout})]}),e.jsx("div",{children:e.jsx(j,{size:"sm",children:"Update"})})]})})]}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsx(p,{children:"Custom Fields"})}),e.jsx(v,{children:e.jsxs(H,{children:[e.jsx(I,{children:e.jsxs(N,{children:[e.jsx(i,{children:"Label"}),e.jsx(i,{children:"Type"}),e.jsx(i,{children:"Default Value"}),e.jsx(i,{children:"Action"})]})}),e.jsx(J,{children:a.custom_fields.map(s=>e.jsxs(N,{children:[e.jsx(c,{children:s.label}),e.jsx(c,{children:s.type}),e.jsx(c,{children:s.type=="custom"?"custom":s.default_value}),e.jsx(c,{children:e.jsx(j,{size:"sm",variant:"ghost",onClick:()=>{confirm("Are you sure?")&&B.delete(route("customFields.destroy",[s.certificate_type_id,s.id]),{onSuccess:()=>{u.warning("Deleted")}})},children:e.jsx(z,{className:"size-4"})})})]}))})]})})]}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsx(p,{children:"Add Custom Fields"})}),e.jsx(v,{children:e.jsxs("form",{onSubmit:w,className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Label"}),e.jsx(x,{value:l.label,onChange:s=>{n("label",s.target.value)}}),e.jsx(r,{message:o.label})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Type"}),e.jsxs(b,{value:l.type,defaultValue:l.type,onValueChange:s=>{n("type",s)},children:[e.jsx(_,{className:"",children:e.jsx(S,{placeholder:"Select a type"})}),e.jsxs(A,{children:[e.jsx(t,{value:"text",children:"Text"}),e.jsx(t,{value:"custom",children:"Custom"})]})]}),e.jsx(r,{message:o.type})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(d,{children:"Default Value"}),l.type=="text"&&e.jsx(x,{defaultValue:l.default_value,value:l.default_value,onChange:s=>{n("default_value",s.target.value)}}),l.type=="custom"&&e.jsx(k,{className:"prose max-w-full",ref:V,value:l.default_value,onBlur:s=>{n("default_value",s)},onChange:s=>{}}),e.jsx(r,{message:o.default_value})]}),e.jsx("div",{children:e.jsx(j,{children:"Add"})})]})})]})]})})};export{Z as default};
