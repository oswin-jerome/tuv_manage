import{j as e,r as p,a as x}from"./app-D6fkvZbA.js";import{B as S}from"./badge-DnpO8wYb.js";import{c as l,b as E,A as L,B as d,I as f}from"./AuthenticatedLayout-CcBeljlA.js";import{C as D,c as I,d as T}from"./card-8DjiWBJf.js";import{L as h}from"./label-DRukCHiJ.js";import{C as V,a as R}from"./index-CP3OEn7_.js";import{S as N,a as v,b as g,c as b,d as m}from"./select-DYZRsoEN.js";import{T as z,f as B,a as M,b as y,c as t,d as G,e as o}from"./table-Bq7M0pK1.js";import{h as H}from"./moment-C5S46NFB.js";import{E as O}from"./eye-BYynvYj_.js";import{S as W}from"./square-pen-E4fXz8Jm.js";import{T as q}from"./trash-2-B0q9_UpY.js";import{C as F}from"./copy-B54vAEE1.js";import"./tslib.es6-M_FJ09fS.js";const C=({className:r,...a})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:l("mx-auto flex w-full justify-center",r),...a});C.displayName="Pagination";const P=p.forwardRef(({className:r,...a},n)=>e.jsx("ul",{ref:n,className:l("flex flex-row items-center gap-1",r),...a}));P.displayName="PaginationContent";const j=p.forwardRef(({className:r,...a},n)=>e.jsx("li",{ref:n,className:l("",r),...a}));j.displayName="PaginationItem";const u=({className:r,isActive:a,size:n="icon",...c})=>e.jsx("a",{"aria-current":a?"page":void 0,className:l(E({variant:a?"outline":"ghost",size:n}),r),...c});u.displayName="PaginationLink";const _=({className:r,...a})=>e.jsxs(u,{"aria-label":"Go to previous page",size:"default",className:l("gap-1 pl-2.5",r),...a,children:[e.jsx(V,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});_.displayName="PaginationPrevious";const w=({className:r,...a})=>e.jsxs(u,{"aria-label":"Go to next page",size:"default",className:l("gap-1 pr-2.5",r),...a,children:[e.jsx("span",{children:"Next"}),e.jsx(R,{className:"h-4 w-4"})]});w.displayName="PaginationNext";function ne({paginate:r,request:a,certificateTypes:n,companies:c}){return p.useState(""),e.jsx(L,{children:e.jsxs(D,{children:[e.jsx(I,{children:e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold mb-5",children:"Certificates"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("a",{href:route("certificates.export",{_query:{...a}}),children:e.jsx(d,{children:"Export"})}),e.jsx(x,{href:route("certificates.create"),children:e.jsx(d,{children:"AddNew"})})]})]}),e.jsxs("form",{action:"",className:"grid grid-cols-4 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Ref #"}),e.jsx(f,{defaultValue:a.ref_no??"",name:"ref_no"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Type"}),e.jsxs(N,{name:"certificate_type_id",defaultValue:a.certificate_type_id??"0",onValueChange:s=>{},children:[e.jsx(v,{className:"",children:e.jsx(g,{placeholder:"Select a type"})}),e.jsxs(b,{children:[e.jsx(m,{value:"0",children:"All"}),n==null?void 0:n.map(s=>e.jsx(m,{value:s.id.toString(),children:s.name}))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Company"}),e.jsxs(N,{name:"company_id",defaultValue:a.company_id??"0",onValueChange:s=>{},children:[e.jsx(v,{className:"",children:e.jsx(g,{placeholder:"Select a Company"})}),e.jsxs(b,{children:[e.jsx(m,{value:"0",children:"All"}),c==null?void 0:c.map(s=>e.jsx(m,{value:s.id.toString(),children:s.name}))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Issued Date"}),e.jsx(f,{type:"date",defaultValue:a.issuedAt??"",name:"issuedAt"})]}),e.jsx("div",{children:e.jsx(d,{children:"Search"})})]}),e.jsx("br",{}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(z,{children:[e.jsxs(B,{children:["Showing ",r.data.length," of"," ",r.total]}),e.jsx(M,{children:e.jsxs(y,{children:[e.jsx(t,{children:"Certifier / Equipment Name"}),e.jsx(t,{children:"Ref #"}),e.jsx(t,{children:"Company"}),e.jsx(t,{children:"Type"}),e.jsx(t,{children:"Expire"}),e.jsx(t,{children:"Approved"}),e.jsx(t,{children:"Actions"})]})}),e.jsx(G,{children:r.data.map(s=>e.jsxs(y,{children:[e.jsx(o,{className:"font-medium",children:s.certifier_name}),e.jsx(o,{className:"font-medium",children:s.ref_no}),e.jsx(o,{className:"font-medium",children:s.company.name}),e.jsx(o,{className:"font-medium",children:s.certificate_type.name}),e.jsx(o,{className:"font-medium",children:e.jsx("span",{className:l({"text-red-500":s.isExpired}),children:s.expireAt==null?"Not Applicable":H(s.expireAt).format("D MMM Y")})}),e.jsx(o,{className:"font-medium",children:e.jsx(S,{variant:"secondary",className:l({"text-orange-500 bg-orange-100":s.approval_status=="pending","text-red-500 bg-red-100":s.approval_status=="rejected","text-green-500 bg-green-100":s.approval_status=="approved"}),children:s.approval_status})}),e.jsx(o,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(x,{href:route("certificates.show",s.id),children:e.jsx(d,{variant:"outline",size:"icon",children:e.jsx(O,{className:"h-4 w-4"})})}),e.jsx(x,{as:"button",disabled:s.editable!="ALLOWED",href:route("certificates.edit",s.id),children:e.jsx(d,{disabled:s.editable!="ALLOWED",variant:"outline",size:"icon",children:e.jsx(W,{className:"h-4 w-4"})})}),e.jsx(x,{href:route("certificates.destroy",s.id),disabled:!s.canDelete,as:"button",method:"delete",onClick:i=>{confirm("Are you sure?")||i.preventDefault()},children:e.jsx(d,{disabled:!s.canDelete,variant:"outline",size:"icon",children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsx(x,{href:route("certificates.duplicate",s.id),method:"post",onClick:i=>{confirm("Are you sure?")||i.preventDefault()},children:e.jsx(d,{variant:"outline",size:"icon",children:e.jsx(F,{className:"h-4 w-4"})})})]})})]},s.id))})]})})]})}),e.jsx(T,{children:e.jsx(C,{children:e.jsx(P,{children:r.links.map((s,i)=>s.label=="Next &raquo;"?e.jsx(j,{className:l({"opacity-25":s.active}),children:e.jsx(w,{href:s.url??"#"})},i):s.label=="&laquo; Previous"?e.jsx(j,{className:l({"opacity-25":s.active}),children:e.jsx(_,{href:s.url??"#"})},i):e.jsx(j,{className:l({"opacity-25":s.active}),children:e.jsx(u,{href:s.url??"#",children:s.label})},i))})})})]})})}export{ne as default};
