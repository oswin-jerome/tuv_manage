import{j as e,r as p,a as x}from"./app-BvYve8zT.js";import{B as A}from"./badge-DcpSNiHs.js";import{c as n,b as E,A as I,B as t,I as f}from"./AuthenticatedLayout-CQObL2fs.js";import{C as T,c as V,d as R}from"./card-GwBy3rZh.js";import{L as h}from"./label-BmFSqJEm.js";import{C as z,a as D}from"./index-i2qVqcyp.js";import{S as N,a as v,b as g,c as b,d as m}from"./select-zsTMxWMy.js";import{T as L,f as B,a as M,b as y,c as d,d as G,e as o}from"./table-GjlREPnq.js";import{h as H}from"./moment-C5S46NFB.js";import{E as q}from"./eye-OT5Wc4Rj.js";import{S as F}from"./square-pen-Cx20z9_k.js";import{T as Y}from"./trash-2-CMZgO2As.js";import{C as J}from"./copy-CkIkyL-8.js";import"./tslib.es6-M_FJ09fS.js";const C=({className:r,...a})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:n("mx-auto flex w-full justify-center",r),...a});C.displayName="Pagination";const P=p.forwardRef(({className:r,...a},l)=>e.jsx("ul",{ref:l,className:n("flex flex-row items-center gap-1",r),...a}));P.displayName="PaginationContent";const j=p.forwardRef(({className:r,...a},l)=>e.jsx("li",{ref:l,className:n("",r),...a}));j.displayName="PaginationItem";const u=({className:r,isActive:a,size:l="icon",...c})=>e.jsx("a",{"aria-current":a?"page":void 0,className:n(E({variant:a?"outline":"ghost",size:l}),r),...c});u.displayName="PaginationLink";const _=({className:r,...a})=>e.jsxs(u,{"aria-label":"Go to previous page",size:"default",className:n("gap-1 pl-2.5",r),...a,children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});_.displayName="PaginationPrevious";const w=({className:r,...a})=>e.jsxs(u,{"aria-label":"Go to next page",size:"default",className:n("gap-1 pr-2.5",r),...a,children:[e.jsx("span",{children:"Next"}),e.jsx(D,{className:"h-4 w-4"})]});w.displayName="PaginationNext";function le({paginate:r,request:a,certificateTypes:l,companies:c}){return p.useState(""),e.jsx(I,{children:e.jsxs(T,{children:[e.jsx(V,{children:e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold mb-5",children:"Certificates"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("a",{href:route("certificates.export",{_query:{...a}}),children:e.jsx(t,{children:"Export"})}),e.jsx(x,{href:route("certificates.create"),children:e.jsx(t,{children:"AddNew"})})]})]}),e.jsxs("form",{action:"",className:"grid grid-cols-4 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Ref #"}),e.jsx(f,{defaultValue:a.ref_no??"",name:"ref_no"})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Type"}),e.jsxs(N,{name:"certificate_type_id",defaultValue:a.certificate_type_id??"0",onValueChange:s=>{},children:[e.jsx(v,{className:"",children:e.jsx(g,{placeholder:"Select a type"})}),e.jsxs(b,{children:[e.jsx(m,{value:"0",children:"All"}),l==null?void 0:l.map(s=>e.jsx(m,{value:s.id.toString(),children:s.name}))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Company"}),e.jsxs(N,{name:"company_id",defaultValue:a.company_id??"0",onValueChange:s=>{},children:[e.jsx(v,{className:"",children:e.jsx(g,{placeholder:"Select a Company"})}),e.jsxs(b,{children:[e.jsx(m,{value:"0",children:"All"}),c==null?void 0:c.map(s=>e.jsx(m,{value:s.id.toString(),children:s.name}))]})]})]}),e.jsxs("div",{children:[e.jsx(h,{children:"Issued Date"}),e.jsx(f,{type:"date",defaultValue:a.issuedAt??"",name:"issuedAt"})]}),e.jsx("div",{children:e.jsx(t,{children:"Search"})})]}),e.jsx("br",{}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(L,{children:[e.jsxs(B,{children:["Showing ",r.data.length," of"," ",r.total]}),e.jsx(M,{children:e.jsxs(y,{children:[e.jsx(d,{children:"Certifier / Equipment Name"}),e.jsx(d,{children:"Ref #"}),e.jsx(d,{children:"Company"}),e.jsx(d,{children:"Type"}),e.jsx(d,{children:"Expire"}),e.jsx(d,{children:"Approved"}),e.jsx(d,{children:"Actions"})]})}),e.jsx(G,{children:r.data.map(s=>e.jsxs(y,{children:[e.jsx(o,{className:"font-medium",children:s.certifier_name}),e.jsx(o,{className:"font-medium",children:s.ref_no}),e.jsx(o,{className:"font-medium",children:s.company.name}),e.jsx(o,{className:"font-medium",children:s.certificate_type.name}),e.jsx(o,{className:"font-medium",children:e.jsx("span",{className:n({"text-red-500":s.isExpired}),children:s.expireAt==null?"Not Applicable":H(s.expireAt).format("D MMM Y")})}),e.jsx(o,{className:"font-medium",children:e.jsx(A,{variant:"secondary",className:n({"text-orange-500 bg-orange-100":s.approval_status=="pending","text-red-500 bg-red-100":s.approval_status=="rejected","text-green-500 bg-green-100":s.approval_status=="approved"}),children:s.approval_status})}),e.jsx(o,{children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(x,{href:route("certificates.show",s.id),children:e.jsx(t,{variant:"outline",size:"icon",children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsx(x,{as:"button",href:route("certificates.edit",s.id),children:e.jsx(t,{variant:"outline",size:"icon",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsx(x,{href:route("certificates.destroy",s.id),disabled:!s.canDelete,as:"button",method:"delete",onClick:i=>{confirm("Are you sure?")||i.preventDefault()},children:e.jsx(t,{disabled:!s.canDelete,variant:"outline",size:"icon",children:e.jsx(Y,{className:"h-4 w-4"})})}),e.jsx(x,{href:route("certificates.duplicate",s.id),method:"post",onClick:i=>{confirm("Are you sure?")||i.preventDefault()},children:e.jsx(t,{variant:"outline",size:"icon",children:e.jsx(J,{className:"h-4 w-4"})})})]})})]},s.id))})]})})]})}),e.jsx(R,{children:e.jsx(C,{children:e.jsx(P,{children:r.links.map((s,i)=>s.label=="Next &raquo;"?e.jsx(j,{className:n({"opacity-25":s.active}),children:e.jsx(w,{href:s.url??"#"})},i):s.label=="&laquo; Previous"?e.jsx(j,{className:n({"opacity-25":s.active}),children:e.jsx(_,{href:s.url??"#"})},i):e.jsx(j,{className:n({"opacity-25":s.active}),children:e.jsx(u,{href:s.url??"#",children:s.label})},i))})})})]})})}export{le as default};
